<section class="section">
  <!-- 
    Still loading 
  -->
  <div *ngIf="!done && !fetcherror">
    <mat-spinner></mat-spinner>
  </div>
  <!-- 
    Done loading but fetch error 
  -->
  <div *ngIf="done && fetcherror" class="wrapper">
    <h2>Something went wrong while fetching the available users</h2>
    <button
      mat-flat-button
      color="primary"
      class="button-retry"
      (click)="retry()"
    >
      <mat-icon>autorenew</mat-icon>
    </button>
  </div>
  <!-- 
    Done loading and everything ok
  -->
  <div *ngIf="done && !fetcherror">
    <div *ngIf="playlist">
      <h2 *ngIf="playlist.user">R.I.P. {{ playlist.user!.firstName }}</h2>
      <ul *ngIf="playlist.songs && playlist.songs.length > 0">
        <li *ngFor="let song of playlist.songs">
          <a href="{{ song.link }}">{{ song.title }} - {{ song.artist }}</a>
        </li>
      </ul>
      <p *ngIf="playlist.songs && playlist.songs.length == 0">
        There are no songs yet.
      </p>
      <!-- <form [formGroup]="form" (ngSubmit)="newSong()">
      <div class="formgroup">
        <label for="title">Title</label>
        <input type="text" formControlName="title" required placeholder="" />
      </div>
      <div class="formgroup">
        <label for="artist">Artist</label>
        <input type="text" formControlName="artist" required placeholder="" />
      </div>
      <div class="formgroup">
        <label for="link">Link</label>
        <input type="text" formControlName="link" required placeholder="" />
      </div>
      <button type="submit" [disabled]="form.invalid || !form.touched">
        Add song
      </button>
    </form> -->
    </div>
  </div>
</section>
